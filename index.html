<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Digital Image Correlation Engine (DICe)</title>
<!-- jQuery library -->
<script>
    if (typeof module === 'object') {
        window.module = module;
        module = undefined;
    }
</script>
<script src="./js/jquery.min.js"></script>
<script src="./js/jquery-ui.js"></script>
<script>
    if (window.module)
        module = window.module;
</script>
<!-- Custom JS -->
<!-- <script type="text/javascript" src="./js/loader.js"></script>  -->
<script src="./js/requires.js" defer></script>
<script src="./js/global.js" defer></script>
<script src="./js/dice.js" defer></script>
<script src="./js/utils.js" defer></script>
<script src="./js/file_utils.js" defer></script>
<script src="./js/parser.js" defer></script>
<script src="./js/plotly-mod.min.js"></script>
<script src="./js/preview.js" defer></script>
<script src="./js/live_plot_utils.js" defer></script>
<script src="./js/live_plot.js" defer></script>
<script src="./js/live_plot_line.js" defer></script>
<script src="./js/live_plot_tracklib.js" defer></script>
<script src="./js/show_tracking.js" defer></script>
<script src="./js/viewer.js" defer></script>
<!-- Local style sheet -->
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="stylesheet" type="text/css" href="jquery-ui.min.css">
<!-- Google fonts and icons -->
<link rel="stylesheet" type="text/css" href="open_sans.css">
<link rel="stylesheet" type="text/css" href="material_icons.css">
</head>
<body>
  <div class="wrapper">
    <div class="header">
      <img src="./images/DICe_logo_white-01.png" alt="DICe logo" height="42" width="auto">
      <div id="stackButton" title="toggle stack and column view" class="banner-button stack-button">
        <div style="float: left; width: auto;">
          <i id="stackIcon" class="material-icons md-light md-28">view_agenda</i>
        </div>
      </div>
      <div id="stereoButton" title="toggle stereo on/off" class="banner-button stereo-button">
        <div style="float: left; width: auto;">
          <i class="material-icons md-light md-28">camera_alt</i>
        </div>
        <div id="x1x2" style="float: left; width: auto; padding-left: 5px;">x 1</div>
      </div>
      <div id="paramsButton" title="toggle opions pane shown/hidden"
        class="banner-button params-button"
      >
        <i class="material-icons md-light md-36">menu</i>
      </div>
    </div>
    <div id="contentDiv" class="content">
      <div class="fixed-col">
        <h1>IMAGES</h1>
        <p class="nav-item non-tracklib-tools">file select method:</p>
        <select id="fileSelectMode" class="non-tracklib-tools"
          style="width: 95%; margin-bottom: 10px; margin-left: 10px;"
        >
          <option value="list">select individually</option>
          <option value="sequence">sequence of images</option>
          <option value="cine">.cine video frames</option>
        </select>
        <p class="nav-item">frames:</p>
        <div style="display: block" id="rangePreview" class="nav-item">
          <span id="startPreviewSpan" style="display: block; float: left; width: 33%;"></span> <span
            id="currentPreviewSpan"
            style="display: block; float: left; text-align: center; width: 33%;"
          ></span> <span id="endPreviewSpan"
            style="display: block; text-align: right; float: right; width: 33%;"
          ></span>
        </div>
        <input class="nav-item" style="width: 95%;" id="frameScroller" type="range" min="0" max="1"
          defaultValue="0" value="0" step="1"
        >
        <div id="leftImageMenu">
          <!-- begin list input -->
          <div class="nav-list">
            <div class="nav-two-cam nav-item">LEFT</div>
            <label for="leftRefInput" class="custom-file-input action-li"> <i
              class="material-icons md-dark md-br-pad"
            >add_a_photo</i> load reference
            </label> <input id="leftRefInput" type="file" accept="image/*">
            <div id="refImageText" style="word-wrap: break-word; margin-left: 10px;">
              <span id="refImageTextSpan"></span>
            </div>
            <label for="leftDefInput" class="custom-file-input action-li"> <i
              class="material-icons md-dark md-br-pad"
            >add_a_photo</i> load deformed
            </label> <input id="leftDefInput" type="file" multiple accept="image/*">
            <div id="defImageListLeftContainer" class="def-image-list-container">
              <ul id="defImageListLeft" class="def-image-ul">
              </ul>
            </div>
          </div>
          <!-- end list input -->
          <!-- begin sequence input -->
          <div class="nav-sequence">
            <div id="changeImageFolder" class="action-li" style="padding-top: 8px;">
              <i class="material-icons md-dark md-br-pad">folder</i> image folder
            </div>
            <div id="imageFolder" style="word-wrap: break-word;">
              <span id="imageFolderSpan"></span>
            </div>
            <div>prefix</div>
            <input type="text" id="imagePrefix" name="imagePrefix" value="" style="width: 100%;">
            <div>ref index</div>
            <input type="text" id="refIndex" name="refIndex" value="0" style="width: 100%;">
            <div>start index</div>
            <input type="text" id="startIndex" name="startIndex" value="0" style="width: 100%;">
            <div>end index</div>
            <input type="text" id="endIndex" name="endIndex" value="0" style="width: 100%;">
            <div>frame interval</div>
            <input type="text" id="skipIndex" name="skipIndex" value="1" style="width: 100%;">
            <div>digits in number</div>
            <input type="text" id="numDigits" name="numDigits" value="1" style="width: 100%;">
            <div class="nav-two-cam">stereo left suffix</div>
            <input class="nav-two-cam" type="text" id="stereoLeftSuffix" name="stereoLeftSuffix"
              value="_0" style="width: 100%;"
            >
            <div class="nav-two-cam">stereo right suffix</div>
            <input class="nav-two-cam" type="text" id="stereoRightSuffix" name="stereoRightSuffix"
              value="_1" style="width: 100%;"
            >
            <div class="nav-one-cam">suffix</div>
            <input class="nav-one-cam" type="text" id="imageSuffix" name="imageSuffix" value="" style="width: 100%;">
            <div>extension</div>
            <input type="text" id="imageExtension" name="imageExtension" value=""
              style="width: 100%; margin-bottom: 10px;"
            >
            <div style="margin-bottom: 4px;">reference image</div>
            <div id="imageSequencePreview" class="sample-filename"
              style="word-wrap: break-word; margin-bottom: 10px;"
            >
              <span id="imageSequencePreviewSpan"></span>
            </div>
            <!-- <label id="loadRef" class="action-li"> <i
              class="material-icons md-dark md-br-pad"
            >add_a_photo</i> refresh preview
            </label>  -->
          </div>
          <!-- end sequence input -->
          <!-- begin cine input -->
          <div class="nav-cine">
            <label for="leftCineInput" class="custom-file-input action-li"> <i
              class="material-icons md-dark md-br-pad"
            >camera_roll</i> load cine
            </label>
            <div id="cineLeftPreview" style="word-wrap: break-word; margin-bottom: 10px;"
              class="nav-item"
            >
              <span id="cineLeftPreviewSpan"></span>
            </div>
            <input id="leftCineInput" type="file" accept=".cine">
            <div class="nav-two-cam">
              <label for="rightCineInput" class="custom-file-input action-li"> <i
                class="material-icons md-dark md-br-pad"
              >camera_roll</i> load stereo cine
              </label> <input id="rightCineInput" type="file" accept=".cine">
              <div id="cineRightPreview" style="word-wrap: break-word; margin-bottom: 10px;"
                class="nav-item"
              >
                <span id="cineRightPreviewSpan"></span>
              </div>
            </div>
            <!-- end nav two cam -->
            <div class="nav-item tracklib-tools" style="margin-bottom: 5px;">
              go to frame <input class="nav-item" type="text" id="cineGoToIndex"
                name="cineGoToIndex" value="0" style="width: 35%;"
              >
            </div>
            <div class="nav-item">ref frame</div>
            <input class="nav-item update-tracklib-preview" type="text" id="cineRefIndex"
              name="cineRefIndex" value="0" style="width: 95%;"
            >
            <div class="nav-item">start frame</div>
            <input class="nav-item" type="text" id="cineStartIndex" name="cineStartIndex" value="0"
              style="width: 95%;"
            >
            <div class="nav-item">end frame</div>
            <input class="nav-item" type="text" id="cineEndIndex" name="cineEndIndex" value="0"
              style="width: 95%;"
            >
            <div class="nav-item">frame interval</div>
            <input class="nav-item" type="text" id="cineSkipIndex" name="cineSkipIndex" value="1"
              style="width: 95%;"
            >
            <div class="nav-item">
              frame rate <span id="cineFrameRatePreviewSpan"
                style="display: block; float: right; width: 33%;"
              ></span>
            </div>
          </div>
          <!-- end cine input -->
        </div>
        <!-- start nav-two-cam -->
        <div id="rightImageMenu" class="nav-two-cam">
          <!-- start list -->
          <div class="nav-list">
            <div class="nav-two-cam nav-item">RIGHT</div>
            <label for="rightRefInput" class="custom-file-input action-li"> <i
              class="material-icons md-dark md-br-pad"
            >add_a_photo</i> load reference
            </label> <input id="rightRefInput" type="file" accept="image/*">
            <div id="refImageTextRight" style="word-wrap: break-word; margin-left: 10px;">
              <span id="refImageTextRightSpan"></span>
            </div>
            <label for="rightDefInput" class="custom-file-input action-li"> <i
              class="material-icons md-dark md-br-pad"
            >add_a_photo</i> load deformed
            </label> <input id="rightDefInput" type="file" multiple accept="image/*">
            <div id="defImageListRightContainer" class="def-image-list-container">
              <ul id="defImageListRight" class="def-image-ul">
              </ul>
            </div>
          </div>
          <!-- end list -->
        </div>
        <!-- end nav-two-cam-->
        <div class="nav-item">
          <h1 style="margin-top: 20px;">CALIBRATION</h1>
          <div class="nav-one-cam">
            <input id="calibrationCheck" type="checkbox" style="margin-left: 10px;">
            calibrate results
          </div>
          <div class="cal-options">
            <label id="performCal" class="custom-file-input action-li"> <i
              class="material-icons md-dark md-br-pad"
            >grain</i> perform cal
            </label> <label for="calInput" class="custom-file-input action-li"> <i
              class="material-icons md-dark md-br-pad"
            >image_aspect_ratio</i> load cal file
            </label> <input id="calInput" type="file" accept=".txt,.xml">
            <div id="calContainer" class="cal-list-container">
              <ul id="calList" class="cal-ul">
              </ul>
            </div>
            <label id="calInfo" class="custom-file-input action-li"> <i
              class="material-icons md-dark md-br-pad"
            >help_outline</i> cal help
            </label>
          </div>
        </div>
        <!-- end nav-two-cam-->
        <h1 style="margin-top: 20px;">ANALYSIS</h1>
        <div id="runLoader" class="pre-loader"></div>
        <ul>
          <li id="runLi" class="action-li"><i class="material-icons md-dark md-br-pad">play_circle_filled</i>
            <span>run 2d</span></li>
          <li id="changeWorkingDirLi" class="action-li"><i
            class="material-icons md-dark md-br-pad"
          >folder</i> set working dir</li>
          <li id="writeLi" class="action-li"><i class="material-icons md-dark md-br-pad">archive</i>
            <span>save working dir</span></li>
          <li id="clearLi" class="action-li"><i class="material-icons md-dark md-br-pad">backspace</i>
            <span>clear working dir</span></li>
          <li id="abortLi" class="action-li"><i class="material-icons md-dark md-br-pad">cancel</i>
            <span>abort analysis</span></li>
        </ul>
        
        <div id="taskListDiv">
        <h1 style="margin: 20px 0px 5px;" title="Steps that need to be completed before the analysis can be run">TASK LIST</h1>
          <ul id="taskList">
          </ul>
        </div>
        
        
        
        <!-- <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66"
          xmlns="http://www.w3.org/2000/svg"
        >
            <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33"
            r="30"
          ></circle>
          </svg>  -->
      </div>
      <!-- end fixed-col -->
      <div class="fluid-col">
        <div id="innerFluidLeftCol" class="inner-fluid-left-col">
          <div id="viewerFillDiv" class="fill-div">
            <div id="leftMinimized" class="minimized-bar">
              <div class="minimized-bar-banner">
                <span class="toggle-icon action-li" title="show this view"><i
                  class="material-icons md-dark pane-opener" style="transform: rotate(90deg)"
                >swap_vertical_circle</i></span>
              </div>
            </div>
            <div id="subFillDivLeft" class="sub-fill-div">
              <div class="toggle-div" style="margin-bottom:0px;">
                <div class="toggle-div-banner">
                  <span class="toggle-title">IMAGE PREVIEW</span>
                  <span id="leftDims"></span> <span id="leftPos" style="padding-left:20px;"></span>
                  <span id="warningLeft" style="padding-left:10px;"></span>
                  <span class="toggle-icon action-li" id="leftPaneToggle" title="hide this view"><i class="material-icons md-dark pane-closer" style="transform: rotate(270deg)">swap_vertical_circle</i></span>
                 <label id="loadSubsetFileInputIcon" for="loadSubsetFileInput" title="import subset locations" class="custom-file-input action-li full-field-and-tracking"
                    style="display: none;"></label>
                 <input id="loadSubsetFileInput" type="file" accept=".txt">
                </div>
                <!-- end toggle div banner -->
                <!-- <div class="toggle-div-body"> </div>  -->
                <!-- end toggle div body -->
              </div>
              <!-- end toggle div -->
              <div id="viewWindowLeft" class="fill-div" style="background-color: darkgray;">
                <div id="plotlyViewerLeft" class="plotly-viewer"><!-- placeholder for plotly plots --></div>
              </div>
            </div>
            <!-- end fill div left -->
            <div id="rightMinimized" class="minimized-bar">
              <div class="minimized-bar-banner">
                <span class="toggle-icon action-li" title="show this view"><i
                  class="material-icons md-dark pane-opener" style="transform: rotate(90deg)"
                >swap_vertical_circle</i></span>
              </div>
            </div>
            <div id="subFillDivRight" class="sub-fill-div">
              <div class="toggle-div" style="margin-bottom:0px;">
                <div class="toggle-div-banner">
                  <span class="toggle-title">STEREO IMAGE PREVIEW</span>
                  <span id="rightDims"></span> <span id="rightPos"  style="padding-left:20px;"></span>
                  <span id="warningRight" style="padding-left:10px;"></span>
                  <span class="toggle-icon action-li" title="hide this view"><i
                    class="material-icons md-dark pane-closer" style="transform: rotate(270deg)"
                  >swap_vertical_circle</i></span>
                </div>
                <!-- end toggle div banner -->
                <!--  <div class="toggle-div-body"> </div> -->
                <!-- end toggle div body -->
              </div>
              <!-- end toggle div -->
              <div id="viewWindowRight" class="fill-div" style="background-color: darkgray;">
                <div id="plotlyViewerRight" class="plotly-viewer"><!-- placeholder for plotly plots --></div>
              </div>
            </div>
            <!-- end fill div right -->

          </div>
          <!-- end fill div -->

          <div class="toggle-div console-toggle-div">
            <div class="toggle-div-banner">
              <span class="toggle-title-bold" id="consoleButton">CONSOLE</span>
              <span class="toggle-title" style="padding-left:10px; padding-right:5px;">|</span>
              <span class="toggle-title action-li" id="plotsButton">PLOTS</span>
              <!--<span class="toggle-title full-field-global" style="padding-left:10px; padding-right:10px;">|</span>-->
              <span class="toggle-icon action-li">
                <i id="clearConsoleIcon" class="material-icons md-dark action-li" title="clear console">block</i>
                <i id="consoleToggle" class="material-icons md-dark toggler">swap_vertical_circle</i>
              </span>
            </div>
            <!-- end toggle div banner -->
            <div class="toggle-div-body" style="height:auto;">
              <div id="plotsWindow" class="results-window" style="display:none;">
                <div id="resultsWindowLeft" class="results-sub-window results-left">
                  <div id="livePlots" class="track-plot" style="width:100%; height: 93%; float: left; overflow: hidden; padding-bottom:10px;"></div>
                  <select id="livePlotFieldSelect" class="track-plot" style="padding-left:10px; width:30%;"></select>
                  <span class="tracklib-tools track-plot" style="padding-left:10px; padding-right:5px;">ID:</span>
                  <input type="text" class="tracklib-tools update-tracklib-plots track-plot" id="trackGID" name="trackGID" value="0" style="width: 10%;">
                    <!--<select id="idTypeSelect" class="tracklib-tools update-tracklib-plots">
                    <option value="leftID">left ID</option>
                    <option value="rightID">right ID</option>
                    <option value="globalID">global stereo ID</option>
                    </select>-->
                </div>
                <div id="resultsWindowRight" class="results-sub-window results-right">
                  <div class="non-tracklib-tools" id="livePlotLine" style="width:100%; height: 93%; float: left; overflow: hidden; padding-bottom:10px;"></div>
                  <select class="non-tracklib-tools" id="livePlotLineFieldSelect" style="padding-left:10px; width:40%;"></select>
                  <span   class="non-tracklib-tools" style="padding-left:5px; padding-right:5px;">step</span>
                  <select class="non-tracklib-tools" id="stepSelect"></select> <!-- <input id="fixAxisCheck" type="checkbox" style="margin-left: 10px;"><span> fix y-axis</span> -->
                  <span   class="non-tracklib-tools" id="stepBackward" class="action-li" style="padding-left:5px;">previous</span>
                  <span   class="non-tracklib-tools" id="stepForward" class="action-li" style="padding-left:5px;">next</span>
                  <div    class="tracklib-tools track-plot" id="livePlot3d" style="width:100%; height: 100%; float: left; overflow: hidden; padding-bottom:10px;"></div>
                </div>
              </div>
              <div id="consoleWindow" class="console">
                Console output: <br /> <br />
              </div>
            </div>
            <!-- end toggle div body -->
          </div>
          <!-- end toggle div -->

        </div>
        <!-- end inner-fluid-left-col -->
        <div id="innerFluidRightCol" class="inner-fluid-right-col">
          <div class="toggle-div">
            <div class="toggle-div-banner">
              <span class="toggle-title">OPTIONS</span> <span class="toggle-icon action-li"><i
                class="material-icons md-dark toggler"
              >swap_vertical_circle</i></span>
            </div>
            <!-- end toggle div banner -->
            <div class="toggle-div-body">
              <p><b>analysis mode</b></p>
              <select id="analysisModeSelect" style="width:50%;">
                <option value="subset">subset-based full-field</option>
                <option value="tracking">tracking</option>
                <option value="global">global</option>
              </select>
              <p class="non-tracklib-tools" style="padding-top:10px;"><b>settings</b></p>
              <hr class="non-tracklib-tools" style="width:100%;text-align:left;margin-left:0;">
              <div id="tracklibParams" class="param-options tracklib-tools">
                <div class="toggle-div console-toggle-div">
                  <div class="toggle-div-banner">
                    <span class="toggle-title-bold" id="previewButton">PREVIEW</span> <span
                      class="toggle-title" style="padding-left: 10px; padding-right: 5px;"
                    >|</span> <span class="toggle-title action-li" id="resultsButton">RESULTS</span>
                  </div>
                  <!-- end toggle div banner -->
                <div class="toggle-div-body" style="height: auto; border-style:ridge;">
                    <div id="resultsWindow" style="display:none;">
                      <p style="padding-top: 15px; float:left;"><b>results</b></p>
                      <hr style="width:100%;text-align:left;margin-left:0;">
                      <div style="margin-top:10px; padding-bottom: 10px;">track display mode:
                      <select id="trackDisplayModeSelect" style="margin-top: 5px; float:right;">
                        <option value="all-tracks">all tracks</option>
                        <option value="in-frame-only">in frame only</option>
                        <option value="by-id">by global id</option>
                      </select>
                      </div>
                    </div>
                    <div id="previewWindow">
                      <div id="previewTracklib" class="action-li tracklib-preview-only" style="margin-top: 10px;">
                        <i class="material-icons md-dark md-br-pad" style="margin-bottom: 0px;">check_circle</i>
                        update preview
                      </div>
                      <div style="overflow: hidden;" class=tracklib-preview-only>
                        <div style="width: 50%; float: left;">num frames in preview</div>
                        <input class="update-tracklib-preview" type="text" id="numPreviewFrames"
                          name="numPreviewFrames" value="1" style="width: 27%; float: left;"
                        >
                      </div>
                      <div style="overflow: hidden;">
                      <p style="padding-top: 15px; float:left;"><b>segmentation</b></p>
                      <p style="padding-top: 15px; float:right;"><input id="showSegmentationCheck" type="checkbox" checked> show</p>
                      </div>
                      <hr style="width:100%;text-align:left;margin-left:0;">
                      <div style="overflow: hidden;">
                        <div style="width: 50%; float: left; padding-top:10px;">
                          <p>thresh left (counts)</p>
                          <input type="text" class="update-tracklib-preview" id="threshLeft"
                            name="threshLeft" value="10" style="width: 54%;"
                          >
                        </div>
                        <div style="width: 50%; float: right; padding-top: 10px;">
                          <p>thresh right (counts)</p>
                          <input type="text" class="update-tracklib-preview" id="threshRight"
                            name="threshRight" value="10" style="width: 54%;"
                          >
                        </div>
                      </div>
                      <div style="overflow: hidden;">
                        <div style="width: 50%; float: left;">
                          <p>min area (px)</p>
                          <input type="text" class="update-tracklib-preview" id="minArea"
                            name="minArea" value="1" style="width: 54%;"
                          >
                        </div>
                        <div style="width: 50%; float: right;">
                          <p>max area (px)</p>
                          <input type="text" class="update-tracklib-preview" id="maxArea"
                            name="maxArea" value="500" style="width: 54%;"
                          >
                        </div>
                      </div>
                      <div style="overflow: hidden; padding-top: 8px;">
                        <p style="width: 50%; float: left;">background frames</p>
                        <input type="text" class="update-tracklib-preview" id="numBackgroundFrames"
                          name="numBackgroundFrames" value="25" style="width: 27%; float: left;"
                        >
                      </div>
                      <div style="overflow: hidden">
                        <p style="width: 50%; float: left;">
                          max density (pt/px<sup>2</sup>)
                        </p>
                        <input type="text" class="update-tracklib-preview" id="maxPtDensity"
                          name="maxPtDensity" value="0.0063662" style="width: 27%; float: left;"
                        >
                      </div>
                      <div style="overflow: hidden">
                        <p style="width: 50%; float: left;">min Δx/frame (px)</p>
                        <input type="text" class="update-tracklib-preview" id="colocationTol"
                          name="colocationTol" value="0.2" style="width: 27%; float: left;"
                        >
                      </div>
                      <div style="overflow: hidden;">
                      <p style="padding-top: 15px; float:left;"><b>tracking</b></p>
                      <p style="padding-top: 15px; float:right;"><input id="showTrackingCheck" type="checkbox" checked> show</p>
                      </div>
                      <hr style="width:100%;text-align:left;margin-left:0">
                      <p style="padding-top: 15px;">
                        <b>2d</b>
                      </p>
                      <div style="overflow: hidden">
                        <p style="width: 50%; float: left;">num search frames</p>
                        <input type="text" class="update-tracklib-preview" id="numSearchFrames"
                          name="numSearchFrames" value="1" style="width: 27%; float: left;"
                        >
                      </div>
                      <div style="overflow: hidden;">
                        <p style="width: 50%; float: left;"></p>
                        <span style="width: 45%; float: left;"><span style="width: 60%;">tolerance</span><span
                          style="width: 30%; float: right;"
                        >weight</span></span>
                      </div>
                      <div style="overflow: hidden;">
                        <p style="width: 50%; float: left;">Δarea/area (%)</p>
                        <span style="width: 45%; float: left;"><input type="text"
                          class="update-tracklib-preview" id="areaTol" name="areaTol" value="25.0"
                          style="width: 60%;"
                        > w<sub>a</sub><input type="text" class="weight-2d" id="areaWeight"
                          name="areaWeight" value="1.0" style="width: 25%; float: right;"
                        ></span>
                      </div>
                      <div style="overflow: hidden">
                        <p style="width: 50%; float: left;">Δgray (counts)</p>
                        <span style="width: 45%; float: left;"><input type="text"
                          class="update-tracklib-preview" id="grayTol" name="grayTol" value="20"
                          style="width: 60%;"
                        > w<sub>g</sub><input type="text" class="weight-2d" id="grayWeight"
                          name="grayWeight" value="1.0" style="width: 25%; float: right;"
                        ></span>
                      </div>
                      <div style="overflow: hidden">
                        <p style="width: 50%; float: left;">search radius (px)</p>
                        <span style="width: 45%; float: left;"><input type="text"
                          class="update-tracklib-preview" id="neighborRadius" name="neighborRadius"
                          value="50.0" style="width: 60%;"
                        > w<sub>d</sub><input type="text" class="weight-2d" id="distWeight"
                          name="distWeight" value="1.0" style="width: 25%; float: right;"
                        > </span>
                      </div>
                      <div style="overflow: hidden">
                        <p style="width: 50%; float: left;">Δangle (rad)</p>
                        <span style="width: 45%; float: left;"><input type="text"
                          class="update-tracklib-preview" id="angleTol" name="angleTol" value="0.78"
                          style="width: 60%;"
                        > w<sub>α</sub><input type="text" class="weight-2d" id="angleWeight"
                          name="angleWeight" value="1.0" style="width: 25%; float: right;"
                        > </span>
                      </div>
                      <p>
                        disparity = w<sub>a</sub>(Δarea/area) + w<sub>g</sub>(Δgray/255) + w<sub>d</sub>(Δu/u)
                        + 2w<sub>α</sub>(Δangle/π)
                      </p>
                      <!-- <div style="overflow:hidden;"> 
                    <p style="width:50%; float:left;">sum (100% max)</p>
                    <span style="width:45%; float:left"><span style="width: 60%;"></span><span id="weightSum" style="width: 30%;float:right;">100.0</span></span>
                  </div>-->

                      <p style="padding-top: 15px;">
                        <b>stereo</b>
                      </p>
                      <div style="overflow: hidden;">
                        <p style="width: 50%; float: left;">min pts per track</p>
                        <input type="text" class="update-tracklib-preview" id="minPtsPerTrack"
                          name="minPtsPerTrack" value="3" style="width: 27%; float: left;"
                        >
                      </div>
                      <div style="overflow: hidden;">
                        <p style="width: 50%; float: left;"></p>
                        <span style="width: 45%; float: left;"><span style="width: 60%;">tolerance</span><span
                          style="width: 30%; float: right;"
                        >weight</span></span>
                      </div>
                      <div style="overflow: hidden;">
                        <p style="width: 50%; float: left;">
                          Δarea<sub>s</sub>/area (%)
                        </p>
                        <span style="width: 45%; float: left;"><input type="text"
                          class="update-tracklib-preview" id="stereoAreaTol" name="stereoAreaTol"
                          value="25.0" style="width: 60%;"
                        > w<sub>s</sub><input type="text" class="weight-stereo"
                          id="stereoAreaWeight" name="stereoAreaWeight" value="1.0"
                          style="width: 25%; float: right;"
                        > </span>
                      </div>
                      <div style="overflow: hidden;">
                        <p style="width: 50%; float: left;">dist from epi line, e (px)</p>
                        <span style="width: 45%; float: left"><input type="text"
                          class="update-tracklib-preview" id="distFromEpiTol" name="distFromEpiTol"
                          value="10.0" style="width: 60%;"
                        > w<sub>e</sub><input type="text" class="weight-stereo"
                          id="distFromEpiWeight" name="distFromEpiWeight" value="2.0"
                          style="width: 25%; float: right;"
                        > </span>
                      </div>
                      <p>
                        disparity = w<sub>s</sub>(Δarea<sub>s</sub>/area) + w<sub>e</sub>e
                      </p>
                    </div>
                    <!-- <div style="overflow:hidden;">
                    <p style="width:50%; float:left;">sum</p>
                    <span style="width:45%; float:left"><span style="width: 60%;"></span><span id="stereoWeightSum" style="width: 30%;float:right;">100.0</span></span>
                  </div> -->
                </div></div>
              </div>
              <div id="subsetParams" class="param-options full-field">
                <p>initialization method:</p>
                <select id="initSelect"  style="width:50%">
                  <option value="featureMatching">feature matching</option>
                  <option value="featureMatchingWThresh">feature matching w/thresh</option>
                  <option value="fieldValues">field values</option>
                  <option value="imageRegistration">image registration</option>
                  <option value="neighborValues">neighbor values</option>
                </select>
                <p class="feature-thresh">thresh block size: <input type="text" id="threshBlockSize" name="threshBlockSize" value="5001"
                    style="width: 100%; margin-bottom: 3px;"
                  >
                </p>
                <p>
                  sssig threshold: <label id="sssigLabel">150</label>
                </p>
                <input id="sssigThresh" type="range" min="0" max="500.0" defaultValue="150"
                  value="150" step="2"
                >
                <p>
                  subset size: <label id="subsetSizeLabel">31</label> (pixels)
                </p>
                <input id="subsetSize" type="range" min="9" max="51" defaultValue="31" value="31"
                  step="2"
                >
                <p><input id="showRepSubsetCheck" type="checkbox" class="ref-image-required" disabled> show rep. subset
                </p>
                <p>
                  step size: <label id="stepSizeLabel">15</label> (pixels)
                </p>
                <input id="stepSize" type="range" min="1" max="100" defaultValue="15" value="15"
                  step="1"
                >
                <p>shape functions:</p>
                <p>
                  <input id="translationCheck" type="checkbox" checked> translation
                </p>
                <p>
                  <input id="rotationCheck" type="checkbox"> rotation
                </p>
                <p>
                  <input id="normalStrainCheck" type="checkbox"> normal stretch
                </p>
                <p>
                  <input id="shearStrainCheck" type="checkbox"> shear stretch
                </p>
                <p>strain:</p>
                <p>
                  <input id="strainCheck" type="checkbox" checked> compute strain
                </p>
                <p>
                  gauge size: <label id="strainGaugeSizeLabel">45</label> (pixels)
                </p>
                <input id="strainGaugeSize" type="range" min="15" max="150" defaultValue="45"
                  value="45" step="15"
                >
                <p>
                  <input id="omitTextCheck" type="checkbox"> omit text output
                </p>
                <div id="stereoParams" class="param-options">
                  <p>
                    <input id="bestFitCheck" type="checkbox" class="ref-image-required" disabled> use best fit plane
                  </p>
                  <p>
                    <input id="bestFitYAxisCheck" type="checkbox"> treat axis as y-axis
                  </p>
                </div>
              </div>
              <!-- end subset params -->
              <div id="trackingParams" class="param-options tracking non-tracklib-tools">
                <p>optimization method:</p>
                <select id="optModeSelect" style="margin-bottom: 20px;">
                  <option value="gradient-based">gradient-based</option>
                  <option value="simplex">simplex</option>
                </select>
              </div>
              <div id="globalParams" class="param-options global">
                <p>
                  mesh size: <label id="meshSizeLabel">50</label> (pixels<sup>2</sup>)
                </p>
                <input id="meshSize" type="range" min="3" max="500" defaultValue="50" value="50"
                  step="1"
                >
                <p>
                  regularization constant: <label id="regularizationConstantLabel">25</label>
                </p>
                <input id="regularizationConstant" type="range" min="0" max="200" defaultValue="25"
                  value="25" step="1"
                >
                <p>element type:</p>
                <select id="elementTypeSelect">
                  <option value="TRI6">quadratic triangle (TRI6)</option>
                  <option value="TRI3">linear triangle (TRI3)</option>
                </select>
              </div>
              <div id="generalParams" class="param-options non-tracklib-tools">
                <p>
                  <input id="filterCheck" type="checkbox"> gauss filter images
                </p>
                <p>
                  filter window: <label id="filterSizeLabel">5</label> (pixels)
                </p>
                <input id="filterSize" style="margin-bottom: 10px;" type="range" min="5" max="13"
                  defaultValue="5" value="5" step="2"
                >
                <p><input id="incrementalCheck" type="checkbox"> use incremental</p>
                <p><input id="equalizeHistCheck" type="checkbox"> equalize preview histogram</p>
                <p><input id="brightnessCheck" type="checkbox"> brighten preview</p>
                <p>brightness: <label id="brightnessLabel">0</label></p>
                <input id="brightnessBeta" style="margin-bottom: 10px;" type="range" min="-200" max="200"
                  defaultValue="0" value="0" step="10"
                >
                <p><b>results</b></p>
                <hr style="width:100%;text-align:left;margin-left:0; margin-bottom:10px;">
                <p class="full-field-global"><input id="showContourCheck" type="checkbox" style="margin-bottom:10px;" disabled> show results contour plot</p>
                <p class="full-field-global">contour field:</p>
                <select id="contourFieldSelect" class="full-field-global contour-setting" style="padding-left:10px; width:50%;" disabled></select>
                <p class="full-field-global">opacity:</p>
                <select id="contourOpacitySelect" class="full-field-global contour-setting" style="padding-left:10px; margin-bottom:10px; width:50%;" disabled>
                   <option value="0.0">0.0</option>
                   <option value="0.1">0.1</option>
                   <option value="0.2">0.2</option>
                   <option value="0.3">0.3</option>
                   <option selected="selected" value="0.4">0.4</option>
                   <option value="0.5">0.5</option>
                   <option value="0.6">0.6</option>
                   <option value="0.7">0.7</option>
                   <option value="0.8">0.8</option>
                   <option value="0.9">0.9</option>
                   <option value="1.0">1.0</option>
                </select>
              </div>
              <div id="generalParams" class="param-options tracking non-tracklib-tools">
                <p>
                  <input id="showDeformedCheck" type="checkbox" style="margin-bottom: 10px;">
                  show tracked ROIs
                </p>
                <p>
                  <input id="exportMovieCheck" type="checkbox" style="margin-bottom: 10px;">
                  export movie
                </p>
              </div>
            </div>
            <!-- end toggle div body -->
          </div>
          <!-- end toggle div -->
          <div class="toggle-div">
            <div class="toggle-div-banner">
              <span class="toggle-title">REFERENCE</span> <span class="toggle-icon action-li"><i
                class="material-icons md-dark toggler"
              >swap_vertical_circle</i></span>
            </div>
            <!-- end toggle div banner -->
            <div class="toggle-div-body">
              <div class="">
                <h3>Running an Analysis</h3>
                <p>Currently, stereo tracking is not fully operational. This feature is only 
                   enabled for testing purposes.</p>
              </div>
              <div class="reference-text non-tracklib-tools">
                <h3>Running an Analysis</h3>
                <p>Select at least one reference and deformed image (or .cine file). Then the
                  "run" and "write input" buttons should appear. (For stereo analysis, a reference
                  image and deformed image must be selected for the right camera as well as a
                  calibration file for the buttons to appear.)</p>
                <p>Press "run 2d" or "run stereo" if you want to run the DICe executable in
                  serial on this machine. Choose "write input" if you want to write the input files
                  to be run via the command line later (do this to run on an HPC system in
                  parallel).</p>
                <h3>Regions of Interest</h3>
                <p>
                  In full-field mode, regions of interest can be selected using the <i
                    class="material-icons md-dark"
                  >add_circle</i> button.
                </p>
                <p>
                  To preview the areas of the image that will be analyzed click the <i
                    class="material-icons md-dark"
                  >check_circle</i> button. Automatic detection of speckled potions of the image is
                  based on the SSSIG contrast criteria. Change the SSSIG threshold in the OPTIONS
                  pane to increase or decrease the necessary contrast
                </p>
                <h3>Global mode</h3>
                <p>To use the global DIC formulation (currently, only in 2D) set the analysis
                  mode to 'global'. In this mode, the user has two parameters to set, the mesh size
                  (the average area of a mesh element in pixels<sup>2</sup>) and the regularization constant.
                  The regularization constant will introduce smoothing to the results for high
                  values.</p>
                <h3>Tracking mode</h3>
                <p>
                  To track objects in the field of view, rather than compute full-field
                  displacements and strains, select the 'tracking' analysis mode. If the tracking
                  mode is enabled, ROIs must be drawn on the image using the <i
                    class="material-icons md-dark"
                  >add_circle</i> button. Portions of a particular ROI can be omitted using the <i
                    class="material-icons md-dark"
                  >add_circle_outline</i> button. To mark regions of the image that will obstruct the
                  view of any ROI, use the <i class="material-icons md-dark">add_box</i> button to
                  add an obstructed region.
                </p>
                <h3>Visualizing Results</h3>
                <p>
                  In full-field mode, live plots of the field values at a particular point in the
                  image will be generated if any live plot points are defined using the <i
                    class="material-icons md-dark"
                  >gps_fixed</i> button. Additionally, a line plot of field values will also get
                  created if the <i class="material-icons md-dark">location_disabled</i> button is
                  active.
                </p>
                <p>Visualize the ExodusII (*.e) output file in the results folder using ParaView
                  (an open source visulaization software with lots of plotting utilities). A comma
                  separated text file with results values is also created in the results folder.</p>
                <p>Note that the default working directory is your home directory. Results files
                  and folders will be gnerated in the working directory</p>
                <h3>View Control</h3>
                <p>Use the left mouse button to draw ROI vertices, the middle mouse button to
                  drag the image, wheel to zoom, and the right mouse button to end drawing an ROI
                  polygon. View control buttons are also provided at the top of each view.</p>
              </div>
              <p>
                Having trouble? Submit an issue at: <a
                  href="http://github.com/dicengine/dice/issues" alt=""
                >issues</a>
              </p>
              <p>
                <a href="http://dicengine.github.io/dice/" alt="">class and namespace
                  documentation</a>
              </p>
              <p>
                <a href="http://github.com/dicengine/dice" alt="">source code</a>
              </p>
            </div>
            <!-- end toggle div body -->
          </div>
          <!-- end toggle div -->
          <div class="toggle-div">
            <div class="toggle-div-banner">
              <span class="toggle-title">WORKING DIRECTORY</span> <span
                class="toggle-icon action-li"
              ><i class="material-icons md-dark toggler">swap_vertical_circle</i></span>
            </div>
            <!-- end toggle div banner -->
            <div class="toggle-div-body">
              <div style="width: 100%; line-height: 24px;">
                current working directory: </br> <label id="workingDirLabel"
                  style="word-wrap: break-word;"
                >${home}</label>
              </div>
              <div
                style="background-color: #f2f2f2; padding 2px; line-height: 18px; width: 100%; overflow: scroll;"
              >
                <div style="background-color: #cccccc; padding: 5px; width: 100%;">results
                  files:</div>
                <div id="resultsFilesList" style="padding: 2px; line-height: 22px;"></div>
              </div>
            </div>
            <!-- end toggle div body -->
          </div>
          <!-- end toggle div -->
        </div>
        <!-- end inner-fluid-right-col -->
      </div>
      <!-- end fluid-col -->
    </div>
    <div id="dialog" title="Alert message" style="display: none">
      <div class="ui-dialog-content ui-widget-content">
        <p>
          <span class="ui-icon ui-icon-alert" style="float: left; margin: 0 7px 20px 0"></span> <label
            id="lblMessage"
          > </label>
        </p>
      </div>
    </div>
    <!-- end content -->
    <div class="footer">Copyright 2021 NTESS</div>
  </div>
  <!-- end wrapper -->
</body>
</html>
